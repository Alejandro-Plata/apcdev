<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=menu" />
    <link rel="shortcut icon" href="../assets/img/logoExc.png" type="image/x-icon">
    <link rel="stylesheet" href="../styles/styles.css">
    <script src="../script.js" defer></script>
    <title>Excepciones</title>
</head>
<body>
    <div class="wrapper">
  
      <header>
        <nav class="barra-nav">

          <ul>
            <li class="material-symbols-outlined">
              menu
            </li>
            <li><a href="#Seccion1">Inicio</a></li>
            <li><a href="#Seccion2">Seccion2</a></li>
            <li><a href="#Seccion3">Seccion3</a></li>
            <li><a href="#Seccion4">Seccion4</a></li>
          </ul>

        </nav>
      </header>
      <div class="modal">
        <header class="encabezado-principal">
          <li class="material-symbols-outlined">
            menu
          </li>
        </header>
        <details open name="temario" >
          <summary class="introduccion-sum"><a href="">Introducci贸n</a></summary>
        </details>

        <details name="temario">
          <summary>Temario escrito</summary>
          <ul>
            <a href="temario/excepciones.html">
              <li>Excepciones</li> 
              </a>
            <a href="">
              <li>Interfaces</li> 
            </a>
            <a href="">
             
            <a href="">
              <li>Colecciones</li>
            </a>
          </ul>
        </details>
        <details name="temario">
          <summary>Temario en v铆deos</summary>

          <ul>
            <a href="">
              <li>Excepciones</li> 
              </a>
            <a href="">
              <li>Interfaces</li> 
            </a>
            <a href="">
             
            <a href="">
              <li>Colecciones</li>
            </a>
          </ul>
        </details>
        <details name="temario">
          <summary>Base de datos</summary>

          <ul>
            <a href="BD/dql.html">
              <li>Consultas simples</li> 
              </a>
            <a href="">
              <li>Subconsultas, Join y optimizaci贸n de consultas</li> 
            </a>
          </ul>
        </details>
      </div>
        <aside>
          <header class="encabezado-principal">
            <div class="ep-logo"></div>
            <div class="ep-titulo">
              <h1>Recursos para aprender Java</h1>
              <h2>Exclu铆dos caprinos y gorrinos</h2>
            </div>
          </header>
          <details open name="temario" >
            <summary class="introduccion-sum"><a href="../index.html">Introducci贸n</a></summary>
          </details>
  
          <details name="temario">
            <summary>Temario escrito</summary>
            <ul>
              <a href="">
                <li>Excepciones</li> 
                </a>
              <a href="">
                <li>Interfaces</li> 
              </a>
              <a href="">
               
              <a href="">
                <li>Colecciones</li>
              </a>
            </ul>
          </details>
          <details name="temario">
            <summary>Temario en v铆deos</summary>
  
            <ul>
              <a href="">
                <li>Excepciones</li> 
                </a>
              <a href="">
                <li>Interfaces</li> 
              </a>
              <a href="">
               
              <a href="">
                <li>Colecciones</li>
              </a>
            </ul>
          </details>
        <details>
          <summary>Base de datos</summary>

          <ul>
            <a href="../BD/dql.html">
              <li>Consultas simples</li> 
              </a>
            <a href="">
              <li>Subconsultas, Join y optimizaci贸n de consultas</li> 
            </a>
          </ul>
        </details>
        </aside>
  
        <main class="contenido-principal">
          <h1>锔 Excepciones 锔</h1>
        
          <p>Si te has dado cuenta, a pesar de que tu c贸digo funciona perfectamente, habr谩 situaciones en las que se produzcan errores. Por ejemplo, si asignamos <span class="negrita">null</span> a una variable y luego tratamos de acceder a alguno de los atributos o m茅todos que tiene esa variable, nos encontraremos que en vez de ejecutarse c贸digo se produce un error bastante temerario que muestra bastantes l铆neas de c贸digo y que interrumpe la ejecuci贸n del programa. Esta interrupci贸n de la ejecuci贸n del programa se conoce como <span class="negrita">excepci贸n</span>.

            <section class="card-cod">

              <header class="card-cod-header">
                  <div class="card-titulo">
                  <h2>NullPointer Exception</h2>
                  <h3>Ejemplo de excepci贸n en Java</h3>
                  </div>
                  <div>
                      <img class="card-icon" src="../assets/img/logo.png" alt="Imagen card">
                  </div>
              </header>
              <footer class="card-cod-footer">
                  
                  <div class="card-cod-codigo">
                      <pre>
    
    public class <span class="reservada">Main</span> {

      public static void <span class="reservada">main</span> (String[] args) {

        <span class="reservada">String</span> persona = <span class="var">null</span>;
        <span class="reservada">String</span> mayus = persona.<span class="var">toUpperCase()</span>;
        <span class="reservada">System.out.println</span>(<span class="var">mayus</span>);

      }

    }
                      </pre>
                  </div>
              </footer>
            </section>  

          <h2>C贸mo manejar excepciones</h2>
          <p>Para manejar excepciones, es decir, evitar que nuestro programa se comporte de forma rara y pueda causar da帽os mayores, generalmente es buena idea hacer que este pete (en t茅rminos m谩s apropiados, manejar la excepci贸n suele conllevar detener abruptamente la ejecuci贸n de nuestro programa). Para ello, utilizamos una estructura en apariencia similar a un if-else pero que tiene bastantes particularidades que la hacen extremadamente 煤til.</p>
          <p>Esta es la estructura <span class="negrita">try {} catch (Exception e) {}</span> que utilizamos para manejar las excepciones.</p>

          <section class="card-cod">

            <header class="card-def-header">
                <div class="card-titulo">
                <h2>Bloque try - catch</h2>
                </div>
                <div>
                    <img class="card-def-icon" src="../assets/img/logo.png" alt="Imagen card">
                </div>
            </header>
            <footer class="card-cod-footer">
                
             <p>La palabra reservada <span class="reservada">try</span> inicia un bloque que contiene c贸digo que <span class="negrita">podr铆a lanzar una excepci贸n</span>. Es decir, el c贸digo potencialmente problem谩tico se contiene dentro del bloque try.</p> 
             <p>Por otra parte, el bloque <span class="reservada">catch</span> define <span class="negrita">qu茅 ocurre si el bloque try lanza una excepci贸n</span>. <span class="reservada">Catch</span> va de la mano del <span class="negrita">tipo de excepci贸n</span> que maneja el bloque try - catch, por ejemplo "todas las excepciones que existen en el lenguaje de programaci贸n Java": <span class="negrita">catch (<span class="var">Exception</span> e)</span>.</p>  
          
             <div class="card-cod-codigo">
              <pre>

  <span class="reservada">try</span> {
    <span class="comentario">//C贸digo que podr铆a lanzar una excepci贸n</span>
  }
  <span class="reservada">catch</span> (<span class="var">Exception e</span>) {
    <span class="comentario">//Bloque de c贸digo que se ejecuta si se lanza 
      una excepci贸n</span>
  }  
              </pre>
          </div>

            </footer>
          </section> 

          <p>Existe un tipo de bloque try - catch especial orientado al cierre de archivos o peticiones as铆ncronas, como por ejemplo la petici贸n de datos a una base de datos o la lectura de un fichero. Ambos procesos inician y no terminan hasta que se cierra su flujo. Para cerrarlos correctamente, independientemente de si hay un error durante el proceso y la ejecuci贸n del programa se detiene, se utiliza una estructura denominada <a href=""><span class="negrita">try-with</span></a> que explicar茅 en la secci贸n de <span class="negrita">lectura y escritura de ficheros</span>.</p>

      <h2>Tipos de excepciones</h2>
        <p>Algo que puede resultarnos contraintuitivo al principio que todas las excepciones que han sucedido en nuestro programa durante el tiempo que llevamos programando <span class="negrita">no han necesitado ser tratadas.</span> Esto es debido a que no todas las excepciones son iguales y su variedad nos permite acotar cu谩l es el problema que tiene nuestro c贸digo, facilitando su soluci贸n. Justo lo contrario a lo que hace MariaDB お.</p>
        <p>El tipo de excepciones al que estamos m谩s acostumbrados son las <span class="var">excepciones en tiempo de ejecuci贸n</span> mejor conocidas como <span class="negrita">RunTimeExceptions.</span> Este tipo de excepciones se <span class="reservada">lanzan</span> sin que nosotros tengamos que hacer nada, ya que se deben a <span class="negrita">errores de programaci贸n</span> que pueden ser evitados simplemente programando correctamente.</p>
        <p>Veamos un ejemplo: </p>

        <section class="card-cod">

          <header class="card-cod-header">
              <div class="card-titulo">
              <h2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Try - catch</h2>
              <h3>Cuando es necesario utilizarlo</h3>
              </div>
              <div>
                  <img class="card-icon" src="../assets/img/logo.png" alt="Imagen card">
              </div>
          </header>
          <footer class="card-cod-footer">
              <h3 class="error">Mal </h3>
              <div class="card-cod-codigo">
                  <pre>

public class <span class="reservada">Main</span> {

  public static void <span class="reservada">main</span> (String[] args) {

    <span class="reservada">String</span> persona = <span class="var">null</span>;
    <span class="reservada">String</span> mayus = persona.<span class="var">toUpperCase()</span>;
    <span class="reservada">System.out.println</span>(<span class="var">mayus</span>);

  }

}
                  </pre>
              </div>

              <h3 class="acierto">Bien 锔</h3>
              <div class="card-cod-codigo">
                  <pre>

public class <span class="reservada">Main</span> {

  public static void <span class="reservada">main</span> (String[] args) {

    <span class="reservada">String</span> persona = <span class="var">null</span>;
    <span class="reservada">String</span> mayus = persona.<span class="var">toUpperCase()</span>;
    <span class="reservada">System.out.println</span>(<span class="var">mayus</span>);

  }

}
                  </pre>
              </div>

          </footer>
        </section>  

        <p>Todas las excepciones heredan de la clase <span class="reservada">Throwable</span>. M谩s concretamente, de la clase exception heredan 2 subclases principales, que son <span class="negrita">Error y Exception.</span></p>
        
          <p>La clase <span class="reservada">Error</span> no es una excepci贸n, pero al igual que las excepciones se puede lanzar (de ah铆 que herede de <span class="var">Throwable</span>). Cuando ocurre un error, la m谩quina virtual de Java se detiene, porque es una situaci贸n tan especial que no podemos hacer nada al respecto. Un ejemplo de errores de esta clase podr铆a ser que el ordenador <span class="var">se quedase sin memoria</span>. Si el ordenador se queda sin memoria y no puedes seguir ejecutando c贸digo, no tiene sentido tratar el error, ni siquiera podr铆as declarar una variable para tratar el error.</li></p>
          <p>La clase <span class="reservada">Exception</span> por su parte est谩 destinada a errores que s铆 pueden ser tratados, ya que no son errores catastr贸ficos. Una de las subclases m谩s importantes de Exception es <span class="negrita">RunTimeException.</span></p>
       

        <section class="card-cod">

          <header class="card-def-header">
              <div class="card-titulo">
              <h2>RunTimeException</h2>
              </div>
              <div>
                  <img class="card-def-icon" src="../assets/img/logo.png" alt="Imagen card">
              </div>
          </header>
          <footer class="card-cod-footer">
              
           <p><span class="negrita">RunTimeException es una subclase de Exception</span> que representa excepciones que ocurren <span class="reservada">durante la ejecuci贸n del programa</span>, generalmente debido a <span class="negrita">errores de l贸gica o uso incorrecto del c贸digo</span> (como dividir por cero o acceder a un 铆ndice fuera de rango).

            Es 煤til porque permite identificar problemas que <span class="var">podr铆an evitarse con una mejor programaci贸n</span>.
            
            Su principal diferencia con otras subclases de Exception (como IOException) es que <span class="negrita"> las RunTimeException son no chequeadas (unchecked)</span>, lo que significa que el compilador no obliga a manejarlas o declararlas, mientras que las excepciones chequeadas s铆 requieren un manejo expl铆cito (try-catch o throws).</p>  

          </footer>
        </section> 

        <h2>Que otro se coma el marr贸n</h2>
        
        <p>En Java, cuando escribimos c贸digo, a veces surgen situaciones excepcionales que no podemos evitar dentro de un m茅todo espec铆fico, como un error matem谩tico o un problema con datos que no controlamos directamente. En estos casos, <span class="negrita">podemos decidir no resolver el problema en el lugar exacto donde ocurre</span>, sino pasar la tarea de lidiar con ese problema a quien est茅 usando nuestro c贸digo. Esto se logra indicando que nuestro m茅todo <span class="var">puede generar un error</span> y dejando que el c贸digo que lo llama decida qu茅 hacer al respecto.

          Pongamos un ejemplo pr谩ctico: imagina que est谩s creando una <span class="negrita">funci贸n para calcular el promedio de una lista de n煤meros</span>. Si la lista est谩 <span class="reservada">vac铆a</span>, no hay forma de calcular un promedio v谩lido, y eso es un problema. Podr铆as intentar solucionarlo dentro de la funci贸n, pero quiz谩s no sabes qu茅 hacer en ese caso: 驴deber铆as devolver un valor por defecto, mostrar un mensaje de error o detener el programa? En lugar de tomar esa decisi贸n t煤, puedes <span class="reservada">"pasarle el marr贸n" a otro</span> avisando que este problema podr铆a ocurrir y dejar que quien use tu funci贸n decida c贸mo manejarlo.</p>

          <section class="card-cod">

            <header class="card-cod-header">
                <div class="card-titulo">
                <h2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Promedio</h2>
                <h3>Ejemplo del uso de throws en Java</h3>
                </div>
                <div>
                    <img class="card-icon" src="../assets/img/logo.png" alt="Imagen card">
                </div>
            </header>
            <footer class="card-cod-footer">
                
                <div class="card-cod-codigo">
                    <pre>
  
  <span class="reservada">public class</span> <span class="var">Promedio</span> {

    <span class="reservada">public double</span> <span class="var">calcularPromedio</span>(<span class="reservada">int</span>[] numeros) <span class="negrita">throws</span> 
    IllegalArgumentException {
      <span class="reservada">if</span> (numeros.length == <span class="var">0</span>) {
        <span class="reservada">throw new</span> 
        IllegalArgumentException(<span class="var">"La lista no puede estar 
          vac铆a"</span>);
      }
      <span class="reservada">int</span> suma = 0;
      <span class="reservada">for</span> (<span class="reservada">int</span> num: numeros) {
        suma += num;
      }
      <span class="reservada">return</span> (<span class="reservada">double</span>) suma / numeros.length;
    }

    <span class="reservada">public static void</span> <span class="var">main</span> (String[] args) {

      Promedio prom = <span class="reservada">new</span> Promedio(); 
      <span class="reservada">int</span> listaVacia = {};

      <span class="reservada">try</span> {
        <span class="reservada">double</span> resultado = prom.calcularPromedio
                                    (<span class="var">listaVacia</span>);
        System.out.println(<span class="var">"El promedio es: "</span> + resultado);
      } <span class="reservada">catch</span> (IllegalArgumentException e) {
        System.out.println(<span class="var">"Ocurri贸 un problema: "</span> + 
        e.getMessage()); <span class="comentario">/* e.getMessage() muestra un 
          peque帽o mensaje de error relacionado con la 
          excepci贸n que se ha lanzado */</span>
      }

    }

  }
                    </pre>
                </div>

                <p>En este caso, el m茅todo calcularPromedio no intenta resolver el problema de una lista vac铆a. En lugar de eso, <span class="negrita">lanza una excepci贸n <span class="var">(IllegalArgumentException)</span> para se帽alar que algo sali贸 mal.</span>  Al usar throws en la declaraci贸n del m茅todo, est谩s haciendo que qui茅n sea que llame a ese m茅todo se va a tener que encargar de <span class="negrita">decidir qu茅 hacer con el error.</span> Entonces, en main, el c贸digo que usa calcularPromedio tiene que prepararse para esa posibilidad y decidir c贸mo responder, en este caso usando <span class="reservada">un try-catch</span>  para capturar el error y mostrar un mensaje.</p>
            </footer>
          </section>  

          <h2>C贸mo lanzar exepciones con <span class="negrita">throw</span></h2>
          <p>Esto es algo b谩sico pero fundamental: cuando algo falla en tu programa y quieres se帽alarlo expl铆citamente, usas throw seguido de una instancia de una clase de excepci贸n, como throw new NumberFormatException(). Por ejemplo, si intentas convertir una cadena como "abc" a un n煤mero entero, puedes lanzar esa excepci贸n para indicar que el formato es inv谩lido.</p>

        </main>
  
        <footer class="pie-pag">
          <nav>
              <ul>
                  <a href="">
                      <li>Introducci贸n</li>
                  </a>
                  <a href="">
                      <li>Ejercicios</li>
                  </a>
                  <a href="">
                      <li>Git</li>
                  </a>
                  <a href="https://www.youtube.com/watch?v=qxXcI56NfnE&t=8384s">
                      <li>Java desde cero</li>
                  </a>
              </ul>
          </nav>
          <h2>
            &copy; Me reservo el derecho a insultarte por no saber programar
          </h2>
        </footer>
      </div> 
</body>
</html>